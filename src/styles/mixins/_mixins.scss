@use 'sass:map';
@use '../tokens/dark-colors' as *;
@use '../tokens/light-colors' as *;
@use '../tokens/typography' as *;

/// Flexbox utility mixin
@mixin flexbox(
  $includeDisplay: true,
  $direction: false,
  $wrap: false,
  $justify-content: false,
  $align-items: false
) {
  @if $includeDisplay {
    display: flex;
  }
  @if $direction {
    flex-direction: $direction;
  }
  @if $wrap {
    flex-wrap: $wrap;
  }
  @if $justify-content {
    justify-content: $justify-content;
  }
  @if $align-items {
    align-items: $align-items;
  }
}

/// Centers content horizontally and vertically using flexbox
@mixin center {
  @include flexbox($justify-content: center, $align-items: center);
}

/// Responsive media query helper
@mixin respond-to($breakpoint) {
  $value: map.get($breakpoint-values, $breakpoint);

  @if $value {
    @media (min-width: $value) {
      @content;
    }
  }
}

/// Outputs CSS variables from a color map
@mixin generate-theme($color-map) {
  @each $color, $codes in $color-map {
    @each $code, $value in $codes {
      --#{"" + $color}-#{$code}: #{$value};
    }
  }
}

/// Applies a theme by targeting a selector (e.g., :root or [data-theme='dark'])
@mixin apply-theme($theme-map, $selector) {
  #{$selector} {
    @each $name, $value in $theme-map {
      --#{$name}-base: #{$value};
    }
  }
}
